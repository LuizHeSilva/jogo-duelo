<div class="placar">
  <div class="personagem">
    <span class="nome">Player</span>: <span class="vida" [ngClass]="{ 'damaged': playerRecebeuDano }">{{player.vida}}</span>
  </div>
  <div class="divisoria">|</div>
  <div class="personagem">
    <span class="nome">NPC</span>: <span class="vida" [ngClass]="{ 'damaged': npcRecebeuDano }">{{npc.vida}}</span>
  </div>
  <div> <button (click)="trocar()">Tela Atributos</button> </div>
  <div> <button (click)="alterarTurno('ESCOLHA')">Tela Escolha</button> </div>
  <div class="turno">Turno: <span class="turno-texto">{{ turno }}</span></div>
</div>

<div class="container">
  @switch (turno) {
    @case (Turno.NPC) {
      <player></player>
    }

    @case (Turno.PLAYER) {
      <div class="game-container">
        <npc class="esquerda" [npc]="npc"></npc>
        <personagem class="direita"></personagem>
      </div>
    }

    @case (Turno.ATRIBUTOS) {
      <distribuir-atributos></distribuir-atributos>
    }

    @case (Turno.ESCOLHA) {
      
      <div class="tooltip-container">
        <div class="tooltip-item" data-tooltip="Inimigo!" (click)="alterarTurno('PLAYER')">
          <sprite></sprite>
        </div>
        <div class="tooltip-item" data-tooltip="Cidade!" (click)="alterarTurno('CIDADE')">
          <img src="../../assets/cidade.png"/>
        </div>
        <div class="tooltip-item" data-tooltip="Mochila!" (click)="alterarTurno('MOCHILA')">
          <img src="../../assets/mochila.png"/>
        </div>
      </div>
    }

    @case (Turno.MOCHILA) {
      <mochila></mochila>
    }

    @case (Turno.FIMJOGO) {
      <fim-jogo></fim-jogo>
    }
  }
</div>
